@model List<OtanerBank.Models.Client>

@{
    ViewData["Title"] = "Dashboard";
}

<br />

<style>
    .Clients0 {
        background-color: lightcoral;
        box-shadow: 2px 6px 6px 2px rgba(0,0,0,0.2);
    }

    .Clients1 {
        background-color: lightgreen;
        box-shadow: 2px 6px 6px 2px rgba(0,0,0,0.2);
    }

    .MinimizeButton {
        font-weight: bold;
        font-size: large;
        cursor: pointer;
    }

    a {
        cursor: pointer;
        text-decoration: none !important;
    }
</style>

@if (Model != null)
{

    <div class="row">

        <div class="col-md-2"></div>

        <div id="DivClients0" class="col-md-3 Clients0">
            <div class="row">

                <div id="Clients0" class="col-md-10">
                    <h4 id="txtQteInactives"></h4>
                </div>

                <div style="float: right;" class="col-md-2">
                    <h5 id="Minimize0" onclick="MinimizeClient('0');" class="MinimizeButton">-</h5>
                </div>

                <div id="TotalClients0" class="col-md-12">
                    <h5>Total of @Model.Count Clients</h5>
                </div>

                <div id="LinkClients0" class="col-md-12">
                    <a style="float:right">show inactive clients</a>
                </div>

            </div>
        </div>

        <div class="col-md-2"></div>

        <div id="DivClients1" class="col-md-3 Clients1">
            <div class="row">

                <div id="Clients1" class="col-md-10">
                    <h4 id="txtQteActives"></h4>
                </div>

                <div style="float: right;" class="col-md-2">
                    <h5 id="Minimize1" onclick="MinimizeClient('1');" class="MinimizeButton">-</h5>
                </div>

                <div id="TotalClients1" class="col-md-12">
                    <h5 onclick="MinimizeClient('1');">Total of @Model.Count Clients</h5>
                </div>

                <div id="LinkClients1" class="col-md-12">
                    <a style="float:right">show active clients</a>
                </div>

            </div>
        </div>

        <div class="col-md-2"></div>

    </div>

    <br />
    <br />
    <br />


    <table class="table">
        <thead>
            <tr>
                @{
                    Client client = new Client();

                    <th class="text-center">
                        @Html.LabelFor(x => client.id)
                    </th>
                    <th class="text-center">
                        @Html.LabelFor(x => client.ACCOUNT)
                    </th>
                    <th class="text-center">
                        @Html.LabelFor(x => client.CPF)
                    </th>
                    <th class="text-center">
                        @Html.LabelFor(x => client.NAME)
                    </th>
                    <th class="text-center">
                        @Html.LabelFor(x => client.BALANCE)
                    </th>
                    <th class="text-center">
                        @Html.LabelFor(x => client.STATUS)
                    </th>
                    <th class="text-center">
                        @Html.Label("Options")
                    </th>
                }
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr class="text-center">
                    <td>
                        @Html.DisplayFor(modelItem => item.id)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.ACCOUNT)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.CPF)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.NAME)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.BALANCE)
                    </td>
                    <td>
                        @if (item.STATUS == "1")
                        {
                            <p style="color:green;">Actived</p>
                        }
                        else
                        {
                            <p style="color:red;">Inactived</p>
                        }

                    </td>
                    <td>
                        | @Html.ActionLink("Edit", "Edit", new { CPF = item.CPF }) |
                        @Html.ActionLink("Details", "Details", new { CPF = item.CPF }) |

                        @if (item.STATUS == "1")
                        {
                            @Html.ActionLink("Inactive", "Inactive", new { CPF = item.CPF })
                        }
                        else
                        {
                            @Html.ActionLink("Active", "Active", new { CPF = item.CPF })
                        }

                        |
                    </td>
                </tr>
            }
        </tbody>
    </table>
}
else
{

}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

<script type="text/javascript">

    $(document).ready(function () {

        $.ajax({
            type: "GET",
            url: 'https://localhost:44397/Admin/CountActives',
            dataType: "json",
            success: (function (msg) {
                document.getElementById('txtQteActives').textContent = 'Active Clients: ' + msg;
            }),
            error: (function (msg) {

            })
        });

        $.ajax({
            type: "GET",
            url: 'https://localhost:44397/Admin/CountInactives',
            dataType: "json",
            success: (function (msg) {
                document.getElementById('txtQteInactives').textContent = 'Inactive Clients: ' + msg;
            }),
            error: (function (msg) {

            })
        });



    });

    function MinimizeClient() {

        //alert(document.getElementById('Clients' + arguments[0]).hidden);

        if (document.getElementById('Clients' + arguments[0]).hidden == false) {

            document.getElementById('Minimize' + arguments[0]).textContent = '+';

            document.getElementById('Clients' + arguments[0]).hidden = true;
            document.getElementById('TotalClients' + arguments[0]).hidden = true;
            document.getElementById('LinkClients' + arguments[0]).hidden = true;

        } else {

            document.getElementById('Minimize' + arguments[0]).textContent = '-';

            document.getElementById('Clients' + arguments[0]).hidden = false;
            document.getElementById('TotalClients' + arguments[0]).hidden = false;
            document.getElementById('LinkClients' + arguments[0]).hidden = false;

        }

    }
</script>






















